{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nexport const useSocket = (roomId, userData) => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    const newSocket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000');\n    newSocket.on('connect', () => {\n      console.log('Connected to server');\n      newSocket.emit('join-room', roomId, userData);\n    });\n    newSocket.on('disconnect', () => {\n      console.log('Disconnected from server');\n    });\n    setSocket(newSocket);\n    return () => {\n      newSocket.close();\n    };\n  }, [roomId, userData]);\n  return socket;\n};\n_s(useSocket, \"NvwYO9vJOwIMt5STdlMKfWhuxZw=\");","map":{"version":3,"names":["useEffect","useState","io","useSocket","roomId","userData","_s","socket","setSocket","newSocket","process","env","REACT_APP_SERVER_URL","on","console","log","emit","close"],"sources":["/home/piyush/Desktop/collabdraw/realtime-workspace/client/src/sockets/useSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\n\nexport const useSocket = (roomId, userData) => {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const newSocket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000');\n    \n    newSocket.on('connect', () => {\n      console.log('Connected to server');\n      newSocket.emit('join-room', roomId, userData);\n    });\n\n    newSocket.on('disconnect', () => {\n      console.log('Disconnected from server');\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, [roomId, userData]);\n\n  return socket;\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,OAAO,MAAMC,SAAS,GAAGA,CAACC,MAAM,EAAEC,QAAQ,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,MAAMS,SAAS,GAAGP,EAAE,CAACQ,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB,CAAC;IAEjFH,SAAS,CAACI,EAAE,CAAC,SAAS,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCN,SAAS,CAACO,IAAI,CAAC,WAAW,EAAEZ,MAAM,EAAEC,QAAQ,CAAC;IAC/C,CAAC,CAAC;IAEFI,SAAS,CAACI,EAAE,CAAC,YAAY,EAAE,MAAM;MAC/BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC,CAAC,CAAC;IAEFP,SAAS,CAACC,SAAS,CAAC;IAEpB,OAAO,MAAM;MACXA,SAAS,CAACQ,KAAK,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,EAAE,CAACb,MAAM,EAAEC,QAAQ,CAAC,CAAC;EAEtB,OAAOE,MAAM;AACf,CAAC;AAACD,EAAA,CAvBWH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}