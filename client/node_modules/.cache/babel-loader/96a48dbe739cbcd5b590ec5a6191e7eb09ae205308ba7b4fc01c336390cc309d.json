{"ast":null,"code":"var _jsxFileName = \"/home/piyush/Desktop/collabdraw/realtime-workspace/client/src/components/Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  socket,\n  workspaceData\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [tool, setTool] = useState('pen');\n  const [color, setColor] = useState('#000000');\n  const [brushSize, setBrushSize] = useState(5);\n  const [lastPoint, setLastPoint] = useState(null);\n  const colors = ['#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF', '#FFA500', '#800080', '#FFC0CB'];\n  const brushSizes = [2, 5, 10, 15, 20];\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n\n    // Set canvas size\n    const resizeCanvas = () => {\n      const rect = canvas.parentElement.getBoundingClientRect();\n      canvas.width = rect.width;\n      canvas.height = rect.height;\n\n      // Set canvas style\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n    };\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n    };\n  }, []);\n\n  // Load drawing history when workspace data is available\n  useEffect(() => {\n    if (!(workspaceData !== null && workspaceData !== void 0 && workspaceData.drawingHistory) || !canvasRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // Clear canvas first\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Replay drawing history\n    workspaceData.drawingHistory.forEach(action => {\n      drawOnCanvas(action, false);\n    });\n  }, [workspaceData]);\n  useEffect(() => {\n    if (!socket) return;\n\n    // Listen for drawing events from other users\n    socket.on('draw-event', data => {\n      drawOnCanvas(data, false);\n    });\n\n    // Listen for clear events\n    socket.on('canvas-clear', () => {\n      const canvas = canvasRef.current;\n      if (canvas) {\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      }\n    });\n    return () => {\n      socket.off('draw-event');\n      socket.off('canvas-clear');\n    };\n  }, [socket]);\n  const drawOnCanvas = useCallback((data, isLocal = true) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (data.type === 'clear') {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      return;\n    }\n    ctx.globalCompositeOperation = data.tool === 'eraser' ? 'destination-out' : 'source-over';\n    ctx.strokeStyle = data.tool === 'eraser' ? 'rgba(0,0,0,1)' : data.color;\n    ctx.lineWidth = data.brushSize;\n    if (data.type === 'start') {\n      ctx.beginPath();\n      ctx.moveTo(data.x, data.y);\n    } else if (data.type === 'draw') {\n      ctx.lineTo(data.x, data.y);\n      ctx.stroke();\n    } else if (data.type === 'end') {\n      ctx.closePath();\n    }\n  }, []);\n  const getCanvasPoint = e => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    return {\n      x: (e.clientX - rect.left) * scaleX,\n      y: (e.clientY - rect.top) * scaleY\n    };\n  };\n  const startDrawing = e => {\n    setIsDrawing(true);\n    const point = getCanvasPoint(e);\n    setLastPoint(point);\n    const drawData = {\n      type: 'start',\n      x: point.x,\n      y: point.y,\n      tool,\n      color,\n      brushSize\n    };\n    drawOnCanvas(drawData);\n    socket === null || socket === void 0 ? void 0 : socket.emit('draw-event', drawData);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const point = getCanvasPoint(e);\n    const drawData = {\n      type: 'draw',\n      x: point.x,\n      y: point.y,\n      tool,\n      color,\n      brushSize\n    };\n    drawOnCanvas(drawData);\n    socket === null || socket === void 0 ? void 0 : socket.emit('draw-event', drawData);\n    setLastPoint(point);\n  };\n  const stopDrawing = () => {\n    if (!isDrawing) return;\n    setIsDrawing(false);\n    setLastPoint(null);\n    const drawData = {\n      type: 'end',\n      tool,\n      color,\n      brushSize\n    };\n    socket === null || socket === void 0 ? void 0 : socket.emit('draw-event', drawData);\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Emit clear event to other users\n    socket === null || socket === void 0 ? void 0 : socket.emit('draw-event', {\n      type: 'clear'\n    });\n  };\n  const handleMouseMove = e => {\n    // Continue drawing if mouse is down\n    if (isDrawing) {\n      draw(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 flex flex-col bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 border-b border-gray-200 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-6 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700\",\n            children: \"Tool:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setTool('pen'),\n            className: `px-3 py-1 rounded text-sm ${tool === 'pen' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700 border border-gray-300'}`,\n            children: \"\\u270F\\uFE0F Pen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setTool('eraser'),\n            className: `px-3 py-1 rounded text-sm ${tool === 'eraser' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700 border border-gray-300'}`,\n            children: \"\\uD83E\\uDDFD Eraser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), tool === 'pen' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700\",\n            children: \"Color:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1\",\n            children: colors.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setColor(c),\n              className: `w-6 h-6 rounded border-2 ${color === c ? 'border-gray-800' : 'border-gray-300'}`,\n              style: {\n                backgroundColor: c\n              }\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"color\",\n            value: color,\n            onChange: e => setColor(e.target.value),\n            className: \"w-8 h-8 border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700\",\n            children: \"Size:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1\",\n            children: brushSizes.map(size => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBrushSize(size),\n              className: `px-2 py-1 rounded text-xs ${brushSize === size ? 'bg-blue-500 text-white' : 'bg-white text-gray-700 border border-gray-300'}`,\n              children: [size, \"px\"]\n            }, size, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"1\",\n            max: \"50\",\n            value: brushSize,\n            onChange: e => setBrushSize(parseInt(e.target.value)),\n            className: \"w-20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600\",\n            children: [brushSize, \"px\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearCanvas,\n          className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm\",\n          children: \"\\uD83D\\uDDD1\\uFE0F Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"absolute inset-0 cursor-crosshair\",\n        onMouseDown: startDrawing,\n        onMouseMove: handleMouseMove,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        style: {\n          cursor: tool === 'pen' ? 'crosshair' : 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"PQjyrNxlJ86yuHGlhHk350uPidA=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","jsxDEV","_jsxDEV","Canvas","socket","workspaceData","_s","canvasRef","isDrawing","setIsDrawing","tool","setTool","color","setColor","brushSize","setBrushSize","lastPoint","setLastPoint","colors","brushSizes","canvas","current","ctx","getContext","resizeCanvas","rect","parentElement","getBoundingClientRect","width","height","lineCap","lineJoin","window","addEventListener","removeEventListener","drawingHistory","clearRect","forEach","action","drawOnCanvas","on","data","off","isLocal","type","globalCompositeOperation","strokeStyle","lineWidth","beginPath","moveTo","x","y","lineTo","stroke","closePath","getCanvasPoint","e","scaleX","scaleY","clientX","left","clientY","top","startDrawing","point","drawData","emit","draw","stopDrawing","clearCanvas","handleMouseMove","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","c","style","backgroundColor","value","onChange","target","size","min","max","parseInt","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","cursor","_c","$RefreshReg$"],"sources":["/home/piyush/Desktop/collabdraw/realtime-workspace/client/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\n\nconst Canvas = ({ socket, workspaceData }) => {\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [tool, setTool] = useState('pen');\n  const [color, setColor] = useState('#000000');\n  const [brushSize, setBrushSize] = useState(5);\n  const [lastPoint, setLastPoint] = useState(null);\n\n  const colors = [\n    '#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00',\n    '#FF00FF', '#00FFFF', '#FFA500', '#800080', '#FFC0CB'\n  ];\n\n  const brushSizes = [2, 5, 10, 15, 20];\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    \n    // Set canvas size\n    const resizeCanvas = () => {\n      const rect = canvas.parentElement.getBoundingClientRect();\n      canvas.width = rect.width;\n      canvas.height = rect.height;\n      \n      // Set canvas style\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n    };\n  }, []);\n\n  // Load drawing history when workspace data is available\n  useEffect(() => {\n    if (!workspaceData?.drawingHistory || !canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    \n    // Clear canvas first\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Replay drawing history\n    workspaceData.drawingHistory.forEach((action) => {\n      drawOnCanvas(action, false);\n    });\n  }, [workspaceData]);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    // Listen for drawing events from other users\n    socket.on('draw-event', (data) => {\n      drawOnCanvas(data, false);\n    });\n\n    // Listen for clear events\n    socket.on('canvas-clear', () => {\n      const canvas = canvasRef.current;\n      if (canvas) {\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      }\n    });\n\n    return () => {\n      socket.off('draw-event');\n      socket.off('canvas-clear');\n    };\n  }, [socket]);\n\n  const drawOnCanvas = useCallback((data, isLocal = true) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    \n    if (data.type === 'clear') {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      return;\n    }\n    \n    ctx.globalCompositeOperation = data.tool === 'eraser' ? 'destination-out' : 'source-over';\n    ctx.strokeStyle = data.tool === 'eraser' ? 'rgba(0,0,0,1)' : data.color;\n    ctx.lineWidth = data.brushSize;\n\n    if (data.type === 'start') {\n      ctx.beginPath();\n      ctx.moveTo(data.x, data.y);\n    } else if (data.type === 'draw') {\n      ctx.lineTo(data.x, data.y);\n      ctx.stroke();\n    } else if (data.type === 'end') {\n      ctx.closePath();\n    }\n  }, []);\n\n  const getCanvasPoint = (e) => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n\n    return {\n      x: (e.clientX - rect.left) * scaleX,\n      y: (e.clientY - rect.top) * scaleY\n    };\n  };\n\n  const startDrawing = (e) => {\n    setIsDrawing(true);\n    const point = getCanvasPoint(e);\n    setLastPoint(point);\n\n    const drawData = {\n      type: 'start',\n      x: point.x,\n      y: point.y,\n      tool,\n      color,\n      brushSize\n    };\n\n    drawOnCanvas(drawData);\n    socket?.emit('draw-event', drawData);\n  };\n\n  const draw = (e) => {\n    if (!isDrawing) return;\n\n    const point = getCanvasPoint(e);\n    \n    const drawData = {\n      type: 'draw',\n      x: point.x,\n      y: point.y,\n      tool,\n      color,\n      brushSize\n    };\n\n    drawOnCanvas(drawData);\n    socket?.emit('draw-event', drawData);\n\n    setLastPoint(point);\n  };\n\n  const stopDrawing = () => {\n    if (!isDrawing) return;\n    \n    setIsDrawing(false);\n    setLastPoint(null);\n\n    const drawData = {\n      type: 'end',\n      tool,\n      color,\n      brushSize\n    };\n\n    socket?.emit('draw-event', drawData);\n  };\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Emit clear event to other users\n    socket?.emit('draw-event', {\n      type: 'clear'\n    });\n  };\n\n  const handleMouseMove = (e) => {\n    // Continue drawing if mouse is down\n    if (isDrawing) {\n      draw(e);\n    }\n  };\n\n  return (\n    <div className=\"flex-1 flex flex-col bg-white\">\n      {/* Toolbar */}\n      <div className=\"bg-gray-100 border-b border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-6 flex-wrap\">\n          {/* Tool Selection */}\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm font-medium text-gray-700\">Tool:</label>\n            <button\n              onClick={() => setTool('pen')}\n              className={`px-3 py-1 rounded text-sm ${\n                tool === 'pen'\n                  ? 'bg-blue-500 text-white'\n                  : 'bg-white text-gray-700 border border-gray-300'\n              }`}\n            >\n              ‚úèÔ∏è Pen\n            </button>\n            <button\n              onClick={() => setTool('eraser')}\n              className={`px-3 py-1 rounded text-sm ${\n                tool === 'eraser'\n                  ? 'bg-blue-500 text-white'\n                  : 'bg-white text-gray-700 border border-gray-300'\n              }`}\n            >\n              üßΩ Eraser\n            </button>\n          </div>\n\n          {/* Color Selection */}\n          {tool === 'pen' && (\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-sm font-medium text-gray-700\">Color:</label>\n              <div className=\"flex space-x-1\">\n                {colors.map((c) => (\n                  <button\n                    key={c}\n                    onClick={() => setColor(c)}\n                    className={`w-6 h-6 rounded border-2 ${\n                      color === c ? 'border-gray-800' : 'border-gray-300'\n                    }`}\n                    style={{ backgroundColor: c }}\n                  />\n                ))}\n              </div>\n              <input\n                type=\"color\"\n                value={color}\n                onChange={(e) => setColor(e.target.value)}\n                className=\"w-8 h-8 border border-gray-300 rounded\"\n              />\n            </div>\n          )}\n\n          {/* Brush Size */}\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm font-medium text-gray-700\">Size:</label>\n            <div className=\"flex space-x-1\">\n              {brushSizes.map((size) => (\n                <button\n                  key={size}\n                  onClick={() => setBrushSize(size)}\n                  className={`px-2 py-1 rounded text-xs ${\n                    brushSize === size\n                      ? 'bg-blue-500 text-white'\n                      : 'bg-white text-gray-700 border border-gray-300'\n                  }`}\n                >\n                  {size}px\n                </button>\n              ))}\n            </div>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"50\"\n              value={brushSize}\n              onChange={(e) => setBrushSize(parseInt(e.target.value))}\n              className=\"w-20\"\n            />\n            <span className=\"text-sm text-gray-600\">{brushSize}px</span>\n          </div>\n\n          {/* Clear Button */}\n          <button\n            onClick={clearCanvas}\n            className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm\"\n          >\n            üóëÔ∏è Clear\n          </button>\n        </div>\n      </div>\n\n      {/* Canvas */}\n      <div className=\"flex-1 relative overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute inset-0 cursor-crosshair\"\n          onMouseDown={startDrawing}\n          onMouseMove={handleMouseMove}\n          onMouseUp={stopDrawing}\n          onMouseLeave={stopDrawing}\n          style={{\n            cursor: tool === 'pen' ? 'crosshair' : 'pointer'\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Canvas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}